# Leader's Pesudo IMBT - 类IMBT领导特性调研与分析工具

## 项目简介

本项目介绍了如何基于 Python 和 Gradio 搭建领导特性调研工具。通过一组精心设计的调研问题，结合 ERNIE-4.5-21B-A3B-Thinking 模型的强大分析能力，深入挖掘领导的各种特性倾向（如工作态度、沟通方式、管理风格等）。

通过分析结果，本项目能够生成个性化的交互建议，帮助用户更好地理解和适应领导的行为模式，从而提升沟通效率和工作满意度。此外，该工具还可以作为心理慰藉的辅助工具，为用户提供情感支持和互动指引。

## 主要功能
- **调研模块**: 通过精心设计的调研问题分析领导的特性（工作态度、沟通方式、管理风格等）
- **AI分析模块**: 基于完整的问题和答案，使用 ERNIE-4.5-21B-A3B-Thinking 生成领导特性分析报告
- **Web界面**: 使用 Gradio 提供友好的 Web 界面

## 项目设计

项目整体设计分为以下三个核心部分：

1. **问题设计**:
   - 功能：定义调研问题的内容和结构，确保问题能够全面覆盖领导特性。
   - 实现：
     - `config/questions.json` 存储所有调研问题，采用 JSON 格式便于扩展。
     - `core/survey.py` 提供问题加载和解析的功能。
   - 问题样例：
   ```text
    {
      "id": 6,
      "question": "领导在你阶段性汇报时的态度？",
      "options": [
        "不耐烦",
        "冷淡",
        "中立",
        "耐心",
        "非常耐心"
      ],
      "category": "反馈机制"
    },
    {
      "id": 7,
      "question": "领导的决策风格？",
      "options": [
        "独断",
        "咨询",
        "民主",
        "授权",
        "犹豫"
      ],
      "category": "决策方式"
    },
   ```

2. **提示词结构**:
   - 功能：设计与 ERNIE-4.5-21B-A3B-Thinking 模型交互的提示词，确保输入符合模型的最佳实践。
   - 实现：
     - `ai/ai_config.py` 定义提示词模板，支持动态填充用户回答。
     - `ai/ai_analysis.py` 负责将用户回答与提示词结合，调用模型进行分析。
   - 提示词：
   ```text
        请基于以下领导特性调研数据进行专业分析：

        ## 调研数据：
        {qa_text}

        ## 要求：
        1. 判断领导类型：狐狸/狼/猫头鹰/兔子/狮子/蜜蜂等等
        2. 分析主要特性：工作态度、沟通方式、管理风格、人际关系
        3. 提供沟通建议：日常沟通、工作汇报、意见表达、冲突处理

        ## 输出格式：
        领导类型: <修饰词><动物名称>
        类型解读: <详细描述>（例如“狡猾的狐狸”，但善于权衡利弊，虽然能力不出众，但能通过灵活应变达成目标；"哈气的猫"，只要你跟他交互，他总是对你态度很差，当他需要你的时候又能和气说话）
        交互建议：<具体建议>（例如，少和领导接触，保持最低频率的沟通，汇报工作时突出结果和数据，避免对方打感情牌；适当增加沟通频率，你们可以合作共赢）

        上面的输出说明较为简单，你在输出时可以自行加工扩展。沟通建议不应该太以领导为优先，你需要考虑员工是否需要离开部门/离开公司/寻找新的合作机会，这个领导是否适合长期共事。
   ```

3. **输出展示**:
   - 功能：将分析结果以用户友好的方式展示，并提供个性化建议。
   - 实现：
     - `ui/interface.py` 使用 Gradio 构建 Web 界面，展示分析报告。
     - 支持图表、文本等多种展示形式，提升用户体验。
   - 输出样例
   ```text
        领导类型: 脆弱的狼  
        类型解读: 这位领导呈现典型的专制控制型特征，决策风格独断且对创新抱有强烈排斥性，属于"只顾向前冲的领头狼"。其核心特质是：以强势手段维护控制权，对团队信任度极低（不愿了解工作细节、不给予改正机会），更注重短期结果而非长期发展（忽视员工成长、仅用物质激励）。在人际关系中，表现出疏离与冷漠（社交能力差、道德标准低），沟通上强硬且频率不足（常让下属处于信息模糊状态），高压环境下虽不迁怒但缺乏情感联结。领导缺乏战略深度（思维停留在战术层面）和执行韧性（执行力弱），对组织未来缺乏信念（不谈论公司未来），可能导致团队陷入被动防御状态，长期共事易削弱团队凝聚力与成员职业发展动力。

        交互建议：  
        日常沟通：减少无效对话，汇报工作时聚焦数据与结果（避免情绪化表达），提前预判领导需求（如需资源支持时主动同步进展）；若领导倾向单向指令，保持简洁执行，避免过度解释。  
        工作汇报：避免阶段性汇报（可能引发不耐烦），改为按领导关注的优先级同步关键节点（如重大风险、成果突破）；主动预判问题（如细节遗漏可能导致的执行漏洞），提前准备解决方案。  
        意见表达：领导拒绝创新与新技术，需理解其保守可能源于风险厌恶，但需坚守专业边界（如关键决策需复核），避免直接冲突；若领导诚信度低，沟通中需确保信息真实性（避免承诺无法兑现的事项）。  
        冲突处理：领导回避冲突，但下属需独立解决问题（尤其当领导迁怒时），记录问题细节并自行跟进，必要时向上级越级反馈（保护自身权益）；领导不议论其他领导，可借此保持中立，避免卷入派系斗争。  
        长期共事评估：若领导持续忽视员工发展、压缩团队自主性，建议评估是否离开（如寻找支持型领导的环境）；若暂时无法离开，需强化自我能力（如专注执行、积累独立成果），降低对领导决策的依赖。
   ```
4. **其他**:
    完成上述设计与实现后，通过gradio将各模块整合，形成一个完整的用户交互流程即可。

## 如何使用 ERNIE-4.5-21B-A3B-Thinking
目前，通过Aistudio Token无法调用ERNIE-4.5-21B-A3B-Thinking模型，如需通过API快速使用，可以前往[部署页面](https://aistudio.baidu.com/deploy/mine)，点击部署按钮，快速部署模型。

部署完成后，可以通过部署后的模型页面看到 api_key 和 api_url，通过OpenAI兼容接口调用模型，示例如下：

```python
# pip install openai
from openai import OpenAI

client = OpenAI(
    api_key="YOUR_API_KEY",  # 替换为你的API Key
    base_url="YOUR_API_URL"  # 替换为你的API URL
)

completion = client.chat.completions.create(
    model="default",
    temperature=0.6,
    messages=[
        {"role": "user", "content": "你好，请介绍一下你自己"}
    ],
    stream=True
)

for chunk in completion:
    if hasattr(chunk.choices[0].delta, "reasoning_content") and chunk.choices[0].delta.reasoning_content:
        print(chunk.choices[0].delta.reasoning_content, end="", flush=True)
    else:
        print(chunk.choices[0].delta.content, end="", flush=True)
```

## 运行说明

要运行本项目，请按照以下步骤操作：

1. **安装依赖**:
   - 确保已安装 Python 3.8 或更高版本。
   - 在项目根目录下运行以下命令安装所需依赖：
     ```bash
     pip install -r requirements.txt
     ```

2. **启动服务**:
   - 运行主程序以启动 Gradio Web 界面：
     ```bash
     python main.gradio.py
     ```

3. **访问界面**:
   - 启动成功后，终端会显示一个本地 URL（例如 `http://127.0.0.1:7860`）。
   - 在浏览器中打开该 URL，即可访问项目的 Web 界面。

4. **使用说明**:
   - 在 Web 界面中，按照提示回答调研问题。
   - 提交答案后，系统会调用 ERNIE-4.5-21B-A3B-Thinking 模型生成分析报告。
   - 分析结果将以文本的形式展示